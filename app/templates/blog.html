{% extends 'base.html' %}

{% block content %}
    
<div class="blog-feed">
    <!-- The for loop starts here, before the article structure -->
    {% for post in posts %}
        <article class="post-preview">
            <!-- Image is now the first item in our new grid layout -->
            <a href="#">
                <img src="https://placehold.co/600x400/2c2c2c/F8F5F2?text={{ post.title|replace(' ', '+') }}" alt="{{ post.title }}" class="post-image">
            </a>
            <!-- All text content is wrapped in a div, the second item in the grid -->
            <div class="post-preview-content">
                <header class="post-preview-header">
                    <div class="post-category">Mindfulness</div>
                    <h2 class="post-title"><a href="#">{{ post.title }}</a></h2>
                    <div class="post-meta">
                        By <a href="#">{{ post.author.username }}</a>
                    </div>
                </header>
                <div class="post-excerpt">
                    <p>{{ post.body }}</p>
                </div>
                <a href="#" class="read-more-link">Read More &rarr;</a>
            </div>
        </article>
    {% else %}
        <!-- This placeholder uses the same, new beautiful layout -->
        <article class="post-preview">
            <a href="#">
                <img src="https://placehold.co/600x400/2c2c2c/F8F5F2?text=Serenity" alt="A serene, minimalist landscape" class="post-image">
            </a>
            <div class="post-preview-content">
                <header class="post-preview-header">
                    <div class="post-category">Placeholder</div>
                    <h2 class="post-title"><a href="#">Finding Stillness in a Noisy World</a></h2>
                    <div class="post-meta">
                        By <a href="#">Ibrahim Kiyemba</a>
                    </div>
                </header>
                <div class="post-excerpt">
                    <p>This is an example of what a blog post will look like. Once you add real posts to your database, they will appear here, and this placeholder will disappear.</p>
                </div>
                <a href="#" class="read-more-link">Read More &rarr;</a>
            </div>
        </article>
    {% endfor %}
    <!-- The for loop ends here, after the article structure -->
</div>

{% endblock content %}
